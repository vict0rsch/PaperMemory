const findEl=(e,a)=>void 0===a?"string"==typeof e?document.getElementById(e):e:findEl("memory-container--"+e).querySelector("."+a),fadeOut=(e,a=250,n=()=>{})=>{(e=findEl(e)).style.transition=a+"ms",e.style.opacity=0,setTimeout(()=>{e.style.display="none",n()},a)},fadeIn=(e,a="block",n=250,o=()=>{})=>{(e=findEl(e)).style.opacity=0,"none"===e.style.display&&(e.style.display=a),setTimeout(()=>{e.style.transition=n+"ms",e.style.opacity=1,setTimeout(()=>{o()},n)},0)},val=(e,a)=>{if(e instanceof HTMLInputElement&&"checkbox"===e.type){if(void 0===a)return e.checked;e.checked=a}if("string"==typeof e&&(e=findEl(e)),void 0===a)return e?e.value:"";e&&(e.value=a)},showId=(e,a="block")=>{let n=findEl(e);n&&(n.style.display=a)},hideId=e=>{el=findEl(e),el&&(el.style.display="none")},setTextId=(e,a)=>{let n=findEl(e);n&&(n.innerText=a)},setHTML=(e,a)=>{(e="string"==typeof e?findEl(e):e)&&(e.innerHTML=a)},dispatch=(e,a)=>{if("string"==typeof e&&(e=findEl(e)),"string"==typeof a){if("focus"===a)return void e.focus();if("blur"===a)return void e.blur();a=new Event(a)}e&&e.dispatchEvent(a)},hasClass=(e,a)=>{let n;if(n="string"==typeof e?findEl(e):e,n)return n.classList.contains(a)},addClass=(e,a)=>{let n;n="string"==typeof e?findEl(e):e,n&&n.classList.add(a)},removeClass=(e,a)=>{let n;n="string"==typeof e?findEl(e):e,n&&n.classList.remove(a)},addListener=(e,a,n)=>{(e="string"==typeof e?findEl(e):e)&&e.addEventListener(a,n)},setPlaceholder=(e,a)=>{(e="string"==typeof e?findEl(e):e)&&void 0!==e.placeholder&&(e.placeholder=a)},style=(e,a,n)=>{if(e="string"==typeof e?findEl(e):e){if(void 0===n)return e.style[a];e.style[a]=n}},disable=(e,a=!0)=>{(e="string"==typeof e?findEl(e):e)&&(e.disabled=a)},slideUp=(e,a=250,n=()=>{})=>{(e="string"==typeof e?findEl(e):e)&&(e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=a+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout(()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.style.removeProperty("box-sizing"),n()},a))},slideDown=(a,n=500,o=()=>{})=>{if(a="string"==typeof a?findEl(a):a){a.style.removeProperty("display");let e=window.getComputedStyle(a).display;"none"===e&&(e="block"),a.style.display=e;var t=a.offsetHeight;a.style.overflow="hidden",a.style.height=0,a.style.paddingTop=0,a.style.paddingBottom=0,a.style.marginTop=0,a.style.marginBottom=0,a.offsetHeight,a.style.transitionProperty="height, margin, padding",a.style.transitionDuration=n+"ms",a.style.height=t+"px",a.style.removeProperty("padding-top"),a.style.removeProperty("padding-bottom"),a.style.removeProperty("margin-top"),a.style.removeProperty("margin-bottom"),window.setTimeout(()=>{a.style.removeProperty("height"),a.style.removeProperty("overflow"),a.style.removeProperty("transition-duration"),a.style.removeProperty("transition-property"),o()},n)}},slideToggle=(e,a=500,n=()=>{})=>("none"===window.getComputedStyle(e).display?slideDown:slideUp)(e,a,n);var global={};function _min(e,a,n,o,t){return e<a||n<a?n<e?n+1:e+1:o===t?a:a+1}"undefined"!=typeof window&&(global=window),global.state={dataVersion:0,memoryIsOpen:!1,menuIsOpen:!1,papers:{},papersList:[],paperTags:new Set,pdfTitleFn:null,showFavorites:!1,sortedPapers:[],sortKey:"",papersReady:!1},global.descendingSortKeys=["addDate","count","lastOpenDate","favoriteDate"],global.select2Options={placeholder:"Tag paper",maximumSelectionLength:5,allowClear:!0,tags:!0,tokenSeparators:[","," "]},global.menuCheckNames=["checkBib","checkMd","checkDownload","checkPdfTitle","checkFeedback","checkDarkMode","checkDirectOpen"],global.menuCheckDefaultFalse=["checkDarkMode","checkDirectOpen"],global.menuStorageKeys=[...global.menuCheckNames,"pdfTitleFn"],global.knownPaperPages={arxiv:["arxiv.org/abs/","arxiv.org/pdf/"],neurips:["neurips.cc/paper/","nips.cc/paper/"],cvf:["openaccess.thecvf.com/content"],openreview:["openreview.net/forum","openreview.net/pdf"],biorxiv:["biorxiv.org/content"],pmlr:["proceedings.mlr.press/"]},global.overrideORConfs={"robot-learning":"CoRL",ijcai:"IJCAI"},global.overridePMLRConfs={"Conference on Learning Theory":"CoLT","International Conference on Machine Learning":"ICML","Conference on Uncertainty in Artificial Intelligence":"UAI","Conference on Robot Learning":"CoRL","International Conference on Artificial Intelligence and Statistics":"AISTATS","International Conference on Algorithmic Learning Theory":"ALT"},global.overrideDBLPVenues={"J. Mach. Learn. Res.":"JMLR"},global.fuzzyTitleMatchMinDist=4,global.defaultTitleFunctionCode=`(paper) => {
 title = paper.title.replaceAll("\\n", '');
 id = paper.id;
 return \`\${title} - \${id}\`
}`,global.englishStopWords=new Set([["i","me","my","myself","we","our","ours","ourselves","you","your","yours","yourself","yourselves","he","him","his","himself","she","her","hers","herself","it","its","itself","they","them","their","theirs","themselves","what","which","who","whom","this","that","these","those","am","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","a","an","the","and","but","if","or","because","as","until","while","of","at","by","for","with","about","against","between","into","through","during","before","after","above","below","to","from","up","down","in","out","on","off","over","under","again","further","then","once","here","there","when","where","why","how","all","any","both","each","few","more","most","other","some","such","no","nor","not","only","own","same","so","than","too","very","s","t","can","will","just","don","should","now"]]),global.journalAbbreviations={"infect dis poverty":"Infectious diseases of poverty","emerg microbes infect":"Emerging microbes and infections","front microbiol":"Frontiers in microbiology","front cell infect microbiol":"Frontiers in Cellular and Infection Microbiology","chin j acad radiol":"Chinese journal of academic radiology","clin cosmet investig dermatol":"Clinical Cosmetic and Investigational Dermatology","infect dis obstet gynecol":"Infectious Diseases in Obstetrics and Gynecology","bmc dermatol":"BMC dermatology","j invest dermatol":"Journal of Investigative Dermatology","exp dermatol":"Experimental Dermatology","br j dermatol":"British Journal of Dermatology","j diabetes res":"Journal of Diabetes Research","arch dermatol res":"Archives of Dermatological Research","j am acad dermatol":"Journal of the American Academy of Dermatology",lancet:"The Lancet","clin dermatol":"Clinics in Dermatology","indian j obstet gynecol res":"Indian Journal of Obstetrics and Gynecology Research","indian j med res":"Indian Journal of Medical Research","am j clin dermatol":"American Journal of Clinical Dermatology","j dermatol sci":"Journal of Dermatological Science","indian j clin exp dermatol":"Indian Journal of Clinical and Experimental Dermatology","panacea j med sci":"Panacea Journal of Medical Sciences","indian j med sci":"Indian Journal of Medical Sciences","clin exp dermatol":"Clinical and Experimental Dermatology","diabetol int":"Diabetology international","indian j community med":"Indian Journal of Community Medicine","clin dermatol rev":"Clinical Dermatology Review","indian dermatol online j":"Indian Dermatology Online Journal","mvp j med sci":"MVP Journal of Medical Sciences","indian j dermatol":"Indian Journal of Dermatology","am j nurs":"American journal of nursing","indian j dermatopathol diagn dermatol":"Indian Journal of Dermatopathology and Diagnostic Dermatology","j neurosci":"Journal of neuroscience","j food sci":"Journal of Food Science","cardiovasc diabetol":"Cardiovascular Diabetology","j med case rep":"Journal of medical case reports","clin diabetes endocrinol":"Clinical Diabetes and Endocrinology","j pediatr neurosci":"Journal of Pediatric Neurosciences","j diabetes investig":"Journal of diabetes investigation","world j diabetes":"World journal of diabetes","j public health":"Journal of Public Health","int j nanomed":"International Journal of Nanomedicine","nutr diabetes":"Nutrition and Diabetes","mol cancer":"Molecular Cancer","indian j psychiatry":"Indian Journal of Psychiatry","indian j microbiol res":"Indian Journal of Microbiology Research","indian j orthop surg":"Indian Journal Of Orthopaedics Surgery","indian j microbiol":"Indian journal of microbiology","afr j paediatr surg":"African Journal of Paediatric Surgery","ann pediatr card":"Annals of Pediatric Cardiology","int j curr microbiol appl sci":"International Journal of Current Microbiology and Applied Sciences","dermatol sin":"Dermatologica Sinica","am j surg":"The American Journal of Surgery","j am coll surg":"Journal of the American College of Surgeons","indian j anaesth":"Indian Journal of Anaesthesia","gen surg j":"General Surgery Journals","indian j nephrol":"Indian Journal of Nephrology","int j surg":"International Journal of Surgery","indian j ophthalmol":"Indian Journal of Ophthalmology","surg res pract":"Surgery Research and Practice","indian j orthop":"Indian Journal of Orthopaedics","clin surg":"Clinics in Surgery","can j infect dis med microbiol":"Canadian Journal of Infectious Diseases and Medical Microbiology","s afr j obstet gynaecol":"South African Journal of Obstetrics and Gynaecology","int j nephrol renovascular dis":"International Journal of Nephrology and Renovascular Disease","nepal j obstet gynecol":"Nepal Journal of Obstetrics and Gynaecology","indian j clin exp ophthalmol":"Indian Journal Of Clinical And Experimental Ophthalmology","indian j clin anaesth":"Indian Journal Of Clinical Anaesthesia","indian j pathol oncol":"Indian Journal Of Pathology And Oncology","indian j comm health":"Indian Journal of Community Health","j pediatr crit care":"Journal Of Pediatric Critical Care","j pathol clin res":"Journal of pathology Clinical research","int j mycobacteriol":"International journal of mycobacteriology","int j res dermatol":"International Journal of Research in Dermatology","j am soc cytopathol":"Journal of the American Society of Cytopathology","int j trop dis health":"International Journal of tropical disease and Health","j emerg med":"The Journal of Emergency Medicine","int j med paediatr oncol":"IP International Journal of Medical Paediatrics and Oncology","j spine surg":"Journal of Spinal Surgery","indian j pediatr":"Indian Journal of Pediatrics","int j anat radiol surg":"International Journal of Anatomy Radiology and Surgery","indian j public health":"indian journal of public health","int j dermatopathol surg":"International Journal of Dermatopathology and Surgery","j cancer tumor int":"Journal of Cancer and Tumor International","anil aggrawals internet j forensic med toxicol":"Anil Aggrawals Internet Journal of Forensic Medicine and Toxicology","acad pathol":"Academic Pathology","eur j plant pathol":"European journal of plant pathology","acad pediatr":"Academic Pediatrics","int j biol macromol":"International Journal of Biological Macromolecules","donald sch j ultrasound obstetrics gynecology":"Donald School Journal of Ultrasound in Obstetrics and Gynecology","indian j med forensic med toxicol":"Indian Journal of Forensic Medicine and Toxicology","j pathol inform":"Journal of Pathology Informatics","indian j comp microbiol immunol infect dis":"Indian Journal of Comparative Microbiology Immunology and Infectious Diseases","int j res orthop":"International Journal Of Research In Orthopaedics","biomed res int":"Biomed research international","orthop res rev":"Orthopedic Research and Reviews","int j orthop rheumatol":"IP International Journal of Orthopaedic Rheumatology","indian pediatr":"Indian Pediatrics","int j pediatr":"International Journal of Pediatrics","indian j pain":"Indian Journal of Pain","indian j public health res dev":"Indian Journal of Public Health Research And Development","j pure appl microbiol":"Journal of Pure and Applied Microbiology","int j contemp med res":"International Journal of Contemporary Medical Research","taiwan j psychiatry":"Taiwanese Society of Psychiatry","int j indian psychol":"The International Journal of Indian Psychology","int j anesth anesth":"International Journal of Anesthetics and Anesthesiology","indian j child health":"Indian Journal of Child Health","j clin anesth":"Journal of Clinical Anesthesia","lancet child adolesc health":"The lancet child and adolescent health","saudi j anaesth":"Saudi Journal of Anaesthesia","j pediatr":"The Journal of Pediatrics","j anaesthesiol clin pharmacol":"Journal of anaesthesiology clinical pharmacology","j gynecol surg":"Journal of Gynecologic Surgery","aesthetic surg j":"Aesthetic Surgery Journal","br j anaesth":"British Journal of Anaesthesia","j anesth clin res":"Journal of Anesthesia and Clinical Research","best pract res clin anaesthesiol":"Best Practice and Research in Clinical Anaesthesiology","j ophthalmol":"Journal of Ophthalmology","ophthalmol retina":"Ophthalmology Retina","turk j ophthalmol":"Turkish journal of ophthalmology","indian j pathol microbiol":"Indian Journal of Pathology and Microbiology","ann gastroenterol dig disord":"Annals of Gastroenterology and Digestive Disorders","j can assoc gastroenterol":"Journal of the Canadian Association of Gastroenterology","j clin gynaecol obstet":"Journal of Clinical Gynecology and Obstetrics","ann saudi med":"Annals of Saudi Medicine","j adv res":"Journal of advanced research","j bone miner res":"Journal of bone and mineral research","j bone jt surg":"The Journal of Bone and Joint Surgery","curr opin gynecol obstet":"Current Opinion in Gynecology and Obstetrics","indian j anat":"Indian Journal of Anatomy","integr gynecol obstet j":"Integrative gynecology and obstetrics journal","indian j clin anat physiol":"Indian Journal of Clinical Anatomy and Physiology","ann anat":"Annals of Anatomy","j orthop educ":"Journal of orthopedic education","j ayurveda integr med":"Journal of Ayurveda and integrative medicine",ayu:"AYU An International Quarterly Journal of Research in Ayurveda","am j pathol":"American Journal of Pathology","anal cell pathol":"Analytical Cellular Pathology","int j ayurveda pharma res":"International Journal of Ayurveda and Pharma Research",ayushdhara:"Ayushdhara","n engl j med":"The New England Journal of Medicine","int j pathol clin res":"International Journal of Pathology and Clinical Research","ann med physiol":"Annals of Medical Physiology","case rep orthop":"Case Reports in Orthopedics","j orthop case rep":"Journal of Orthopaedic Case Reports","int j womens health":"International Journal of Womens Health","indones j soc obstet gynecol":"Indonesian Journal of Social Obstetrics and Gynecology","am j obstet gynecol":"American Journal of Obstetrics and Gynecology","acad forensic pathol":"Academic forensic pathology","acta orthop":"Acta Orthopaedica","aims microbiol":"AIMS microbiology","anatol j cardiol":"Anatolian Journal of Cardiology","indian j pathol res pract":"indian journal of pathology research and practice","can j cardiol":"Canadian journal of cardiology","cardiol res":"Cardiology Research","j paediatr nurs sci":"IP Journal of Paediatrics and Nursing Science","j diagn pathol oncol":"IP Journal of Diagnostic Pathology and Oncology","j orthop":"Journal of Orthopaedics","am j surg pathol":"The american journal of surgical pathology","j pathol":"The Journal of pathology","dev psychopathol":"Development and Psychopathology","mod pathol":"Modern pathology","case rep rheumatol":"Case Reports in Rheumatology","brain pathol":"Brain pathology","am j clin pathol":"American Journal of Clinical Pathology","j clin pathol":"Journal of clinical pathology","j public health res":"Journal of public health research","am j public health":"American Journal of Public Health","bmc public health":"BMC public health","public health rep":"Public Health Reports","eur j public health":"European Journal of Public Health","j microsc ultrastruct":"Journal of Microscopy and Ultrastructure","nat microbiol":"Nature microbiology","jama ophthalmol":"JAMA Ophthalmology","int j med sci clin invent":"International Journal of Medical Science and Clinical invention","am j ophthalmol":"American Journal of Ophthalmology","br j ophthalmol":"British Journal of Ophthalmology","surv ophthalmol":"Survey of Ophthalmology","pan asian j obstet gynecol":"Pan Asian Journal of Obstetrics and Gynecology","am j psychiatry":"The American Journal of Psychiatry","gen psychiatr":"General psychiatry","telangana j psychiatry":"Telangana Journal of Psychiatry","iran j neurol":"Iranian journal of neurology","world j surg":"World Journal of Surgery","j otorhinolaryngol allied sci":"IP Journal of Otorhinolaryngology and Allied Science","ann natl acad med sci":"Annals of National Academy of Medical Sciences","blde univ j health sciences":"Blde University Journal of Health Sciences","arch med health sci":"Archives of Medicine and Health Sciences","jmir pediatr parent":"JMIR pediatrics and parenting","j pediatr pediatr med":"Journal of pediatrics and pediatric medicine","pediatr qual saf":"Pediatric quality and safety","tuberc res treat":"Tuberculosis Research and Treatment","compr child adolesc nurs":"Comprehensive child and adolescent nursing","curr treat options pediatr":"Current treatment options in pediatrics","j diabetol":"Journal of Diabetology","j pediatr neonatal care":"Journal of pediatrics and neonatal care","int j contemp pediatr":"International journal of contemporary pediatrics","child neurol open":"Child neurology open","mol cell pediatr":"Molecular and cellular pediatrics","int j ophthalmol":"International Journal of Ophthalmology","j dent spec":"Journal of Dental Specialities","j dent":"Journal of Dentistry","jpn dent sci rev":"Japanese Dental Science Review","indian j dent res":"Indian Journal of Dental Research","indian j dent":"Indian Journal of Dentistry","indian j multidiscip dent":"Indian Journal of Multidisciplinary Dentistry","br dent j":"British Dental Journal","j am dent assoc":"Journal of the american dental association","ann maxillofac surg":"Annals of Maxillofacial Surgery","dent res j":"Isfahan University of Medical Sciences","int dent j stud res":"International Dental Journal of Student Research","j contemp dent pract":"The Journal of Contemporary Dental Practice","j endod":"Journal of Endodontics","apos trends orthod":"APOS Trends in Orthodontics","indian j conserv endod":"IP Indian Journal of Conservative and Endodontics","int j maxillofac imaging":"IP International Journal of Maxillofacial Imaging","int j oral health dent":"International Journal of Oral Health Dentistry","j islamabad med dent college":"Journal of Islamabad Medical and Dental College","world j dentistry":"World Journal of Dentistry","j clin periodontol":"Journal of Clinical Periodontology","j conserv dent":"Journal of conservative dentistry","case rep dent":"Case Reports in Dentistry","oral health dent manag":"Oral health and dental management","int j appl dent sci":"International Journal of Applied Dental Sciences","ann dent sci oral biol":"Annals of Dental Science and Oral Biology","j dent oral biol":"Journal of dentistry and oral biology","j oral biol craniofac res":"Journal of oral biology and craniofacial research","j oral biosci":"Journal of oral biosciences","j oral microbiol":"Journal of Oral Microbiology","iran endod j":"Iranian Endodontic Journal","dental press j orthod":"Dental Press Journal of Orthodontics","j orofac sci":"Journal of Orofacial Sciences","contemp clin dent":"Contemporary Clinical Dentistry","clin oral implants res":"Clinical Oral Implants Research","j restor dent":"Journal of Restorative Dentistry","j esthet restor dent":"Journal of Esthetic and Restorative Dentistry","restor dent endod":"Restorative Dentistry and Endodontics","int j prosthodont endod":"International Journal of Prosthodontics and Restorative Dentistry","ann prosthodont restor dent":"Annals of Prosthodontics and Restorative Dentistry","indian j dent sci":"Indian Journal of Dental Sciences","j indian soc periodontol":"Journal of Indian Society of Periodontology","indian j dent educ":"Indian Journal of Dental Education","sys rev pharm":"Systematic Reviews in Pharmacy","indian j pharm pharmacol":"Indian Journal Of Pharmacy And Pharmacology","indian j pharm sci":"Indian journal of pharmaceutical sciences","int j pharm chem anal":"International Journal Of Pharmaceutical Chemistry And Analysis","ann afr med":"Annals of African Medicine","indian j pharmacol":"Indian Journal of Pharmacology","indian j psychol med":"Indian Journal of Psychological Medicine","j pharm biomed anal":"Journal of pharmaceutical and biomedical analysis","j young pharm":"Journal of Young Pharmacists","int j pharm pharm sci":"International Journal of Pharmacy and Pharmaceutical Sciences","asian j pharm clin res":"The Asian Journal of Pharmaceutical and clinical research","j oncol pract":"Journal of Oncology Practice","j forensic leg med":"Journal of Forensic and Legal Medicine","j forensic med":"Journal of Forensic Medicine","int j forensic med toxicol sci":"IP International Journal of Forensic Medicine and Toxicological Sciences","am j forensic med pathol":"American journal of forensic medicine and pathology","int j med toxicol forensic med":"International Journal of Medical Toxicology and Forensic Medicine","bangladesh j pharmacol":"Bangladesh Journal of Pharmacology","j pharmacol pharmacother":"Journal of Pharmacology and Pharmacotherapeutics","phcog rev":"Pharmacognosy Reviews","j med pharm allied sci":"Journal of medical pharmaceutical and allied sciences","j pharm biol sci":"Journal Of Pharmaceutical And Biological Sciences","pharm chem j":"Pharmaceutical Chemistry Journal","int j pharm pharm res":"International Journal of Pharmacy and Pharmaceutical Research","am j med":"The american journal of medicine","j am coll clin pharm":"Journal of the American College of Clinical Pharmacy","pharm technol hosp pharm":"Pharmaceutical technology in hospital pharmacy","sustain chem pharm":"Sustainable chemistry and pharmacy","asian j pharm pharmacol":"Asian journal of pharmacy and pharmacology","j pharm pharm":"Journal of pharmacy and pharmaceutics","j pharm pharm sci":"Journal of Pharmacy and Pharmaceutical Sciences","pharm pharmacol int j":"Pharmacy and pharmacology international journal","j manag care spec pharm":"Journal of managed care and specialty pharmacy","soj pharm pharm sci":"SOJ pharmacy and pharmaceutical sciences","j pharm pharmacogn res":"Journal of pharmacy and pharmacognosy research","j pharm policy pract":"Journal of pharmaceutical policy and practice","world j pharm pharm sci":"World journal of pharmacy and pharmaceutical sciences","j res pharm pract":"Journal of research in pharmacy practice","pharm pat anal":"Pharmaceutical patent analyst","biomed pharmacol j":"Biomedical and Pharmacology Journal","acta med marisiensis":"Acta medica marisiensis","int j clin pharm":"International journal of clinical pharmacy","int j pharma bio sci":"International Journal of Pharma and Bio Sciences","natl j physiol pharm pharmacol":"National journal of physiology pharmacy and pharmacology","arch pharm pract":"Archives of pharmacy practice","int rev comput softw":"International Review on Computers and Software",softwarex:"SoftwareX","j big data":"Journal of Big Data","comput struct biotechnol j":"Computational and Structural Biotechnology Journal","j mach learn res":"JMLR","peerj comput sci":"PeerJ Computer Science","j comput des eng":"Journal of Computational Design and Engineering","j ambient intell humaniz comput":"Journal of ambient intelligence and humanized computing","int j artif intell":"International Journal of Artificial Intelligence","j theor appl comput sci":"Journal of theoretical and applied computer science","acm comput surv":"ACM Computing Surveys","int j adv comput sci appl":"International Journal of Advanced Computer Science and Applications","int j mach learn comput":"International journal of machine learning and computing","procedia comput sci":"Procedia computer science","npj quantum inf":"NPJ Quantum Information","int j comput intell syst":"International Journal of Computational Intelligence Systems","ieee trans pattern anal mach intell":"IEEE Transactions on Pattern Analysis and Machine Intelligence","ieee trans comput":"IEEE Transactions on Computers","j acm":"Journal of the ACM","ieee commun surv tutor":"IEEE Communications Surveys and Tutorials","int j data sci anal":"International Journal of Data Science and Analytics","int j comput technol":"International journal of computers and technology","big data soc":"Big Data and Society","adv hum comput interact":"Advances in Human Computer Interaction","australas j educ technol":"Australasian Journal of Educational Technology","indian j law hum behav":"Indian Journal of Law and Human Behaviour","int j soc welf manage":"International Journal Of Social Welfare And Management","j nanotechnol":"Journal of nanotechnology","vietnam j sci technol":"Vietnam journal of science and technology","j mater sci":"Journal of Materials Science","mater res express":"Materials research express","j mater sci mater electron":"Journal of Materials Science Materials in Electronics","nat mater":"Nature Materials","adv mater":"Advanced Materials","mater today":"Materials Today","annu rev mater res":"Annual Review of Materials Research","acs appl mater interfaces":"ACS Applied Materials and Interfaces","adv mat res":"Advanced Materials Research","adv mater interfaces":"Advanced materials interfaces","iete j res":"IETE journal of research","j environ chem eng":"Journal of Environmental Chemical Engineering","int j eng adv technol":"International Journal of Engineering and Advanced Technology","arab j sci eng":"Arabian journal for science and engineering","j build perform simul":"International Journal of Building Performance Simulation","int j eng res appl":"International journal of engineering research and applications","eng j":"Engineering Journal","j eng res":"The Journal of Engineering Research","int j eng res":"International Journal of Engineering Research","int j recent technol eng":"International Journal of Recent Technology and Engineering","eng sci technol int j":"Engineering science and technology an international journal","adbu j eng technol":"ADBU Journal of Engineering Technology","adv electron forum":"Advanced Engineering Forum","curr eng j":"Current Biochemical Engineering","int j adv eng sci appl math":"International Journal of Advances in Engineering Sciences and Applied Mathematics","int res j eng technol":"International Research Journal of Engineering and Technology","j constr manag":"Journal of Construction Management","polym eng sci":"Polymer engineering and science","adv phys":"Advances in Physics","int j electrochem":"International Journal of Electrochemistry","bulg j phys":"Bulgarian Journal of Physics","adv condens matter phys":"Advances in Condensed Matter Physics","open access j med aromat plants":"Open Access Journal of Medicinal and Aromatic Plants","hepatol int":"Hepatology International",phytomedicine:"Phytomedicine International Journal of Phytotherapy and Phytopharmacology","indian j gastroenterol":"Indian Journal of Gastroenterology","antioxid redox signal":"Antioxidants and Redox Signaling","j chem educ":"Journal of Chemical Education","j org chem":"Journal of Organic Chemistry","j biol chem":"Journal of biological chemistry","bmc chem":"BMC chemistry","indian j adv chem sci":"Indian Journal of Advances in Chemical Science","asian j chem":"Asian Journal of Chemistry","j chem sci":"Journal of Chemical Sciences","res j chem sci":"Research Journal of Chemical Sciences","j chem":"Journal of Chemistry","orient j chem":"Oriental Journal of Chemistry","new j chem":"New journal of chemistry","anal chem lett":"Analytical Chemistry Letters","am j transplant":"American Journal of Transplantation","indian j surg":"Indian journal of surgery","jama surg":"JAMA Surgery","ind j agric bus":"Indian Journal of Agriculture Business","acta agric scand a anim sci":"Acta Agriculturae Scandinavica Section A Animal Science","ind j agric biochem":"Indian Journal of Agricultural Biochemistry","indian j agric res":"Indian Journal of Agricultural Research","indian j agron":"Indian Journal of Agronomy","physiol mol plant pathol":"Physiological and Molecular Plant Pathology","indian j genet plant breed":"Indian Journal of Genetics and Plant Breeding","indian j agr sci":"indian journal of agricultural sciences","j agric econ":"journal of agricultural economics","j agron indones":"Jurnal Agronomi Indonesia","int j agric sci":"International Journal of Agricultural Sciences","open agric j":"The Open Agriculture Journal","acta fytotech zootech":"Acta Fytotechnica et Zootechnica","j agric nat resour":"Journal of Agriculture and Natural Resources","j nepal agric res counc":"Journal of Nepal Agricultural Research Council","adv sci lett":"Advanced Science Letters","adv agric":"Advances in Agriculture","asian j agric dev":"Asian Journal of Agriculture and Development","asian j agric food sci":"Asian journal of agriculture and food science","int j agric innov res":"International journal of agriculture innovations and research","j integr agric":"Journal of integrative agriculture","agric human values":"Agriculture and human values","front agric china":"Frontiers of Agriculture in China","j exp biol agric sci":"Journal of Experimental Biology and Agricultural Sciences","j community health manag":"The Journal of Community Health Management","j patient saf risk manag":"Journal of patient safety and risk management","perspect public manag gov":"Perspectives on public management and governance","j manag res anal":"Journal Of Management Research And Analysis","acad manag learn educ":"Academy of Management Learning and Education","j bus res":"Journal of Business Research","acad manage j":"Academy of Management Journal","acad manage rev":"Academy of Management Review","account organ soc":"Accounting Organizations and Society","am econ rev":"The American Economic Review","j int bus stud":"Journal of International Business Studies","j int econ":"Journal of International Economics","j manage":"Journal of management","aims int j manag":"AIMS International Journal of Management","int j bus manag":"International Journal of Business and Management","eur manag j":"European Management Journal","eur j manag":"European Journal of Management","eur j int manag":"European Journal of International Management","":"Advances in Statistical Climatology Meteorology and Oceanography","int interdiscip res j":"International interdisciplinary research journal","j anim sci":"Journal of Animal Science","anim nutr technology":"Animal Nutrition and Feed Technology","j anim res":"Journal of Animal Research","anim prod sci":"Animal Production Science","asian australas j anim sci":"Asian Australasian journal of animal sciences","annu rev stat appl":"Annual review of statistics and its application","ann math":"Annals of mathematics","am stat":"The American Statistician","aust n z j stat":"Australian and New Zealand journal of statistics","j stat softw":"Journal of statistical software","int j sci technol res":"International Journal of Scientific and Technology Research","int j mod trends sci technol":"International Journal for Modern Trends in Science and Technology","int j sci res eng dev":"International Journal of Scientific Research and Engineering Development","indian j sci technol":"Indian Journal of Science and Technology","indian j biotechnol":"Indian journal of biotechnology","east asian sci technol soc":"East Asian science technology and society","east asian sci technol med":"East Asian science technology and medicine","sci technol adv mate":"Science and technology of advanced materials","j mar sci technol":"Journal of Marine Science and Technology","open access j sci technol":"Open Access Journal of Science and Technology","sci technol stud":"Science and Technology Studies","j soc sci":"Journal of Social Sciences","mediterr j soc sci":"Mediterranean journal of social sciences","j progress res soc sci":"Journal of progressive research in social sciences",rsf:"The Russell Sage Foundation journal of the social sciences","j stud soc sci":"Journal of studies in social sciences","j methods meas soc sci":"Journal of methods and measurement in the social sciences","j rural soc sci":"Journal of rural social sciences",methodology:"European journal of research methods for the behavioral and social sciences","pak j life soc sci":"Pakistan journal of life and social sciences","am j islam soc sci":"The American journal of Islamic social sciences","soc sci china":"Social sciences in China","pak soc sci rev":"Pakistan social sciences review","acta univ sapientiae econ bus":"Acta Universitatis Sapientiae Economics and Business","adv soc work":"Advances in Social Work","int j soc sci humanity stud":"International Journal of Social Sciences and Humanity Studies","int j humanit soc sci":"International Journal of Humanities and Social Science","am j bus":"American Journal of Business","int j soc sci stud":"International Journal of Social Science Studies","ann econ financ":"Annals of Financial Economics","soc sci j":"The Social Science Journal","asia pac j public adm":"Asia Pacific Journal of Public Administration","am j sociol":"American Journal of Sociology","asia pac j risk insur":"Asia Pacific Journal of Risk and Insurance","chin j sociol":"Chinese journal of sociology","aust intellect prop j":"Australian Intellectual Property Journal","am j cult sociol":"American Journal of Cultural Sociology","anthropol j food":"Anthropology of Food","adv appl sociol":"Advances in applied sociology","asian assoc open univ j":"Asian Association of Open Universities Journal","j appl soc sci":"Journal of applied social science","asian j bus ethics":"Asian Journal of Business Ethics","adv j soc sci":"Advanced Journal of Social Science","int j soc educ sci":"International Journal on Social and Education Sciences","int j yoga":"International Journal of Yoga","indian j anc med yoga":"Indian Journal of Ancient Medicine and Yoga","j yoga phys ther":"Journal of yoga and physical therapy","int j yoga therap":"International journal of yoga therapy","nat biotechnol":"Nature Biotechnology","trends biotechnol":"Trends in biotechnology","biotechnol adv":"Biotechnology Advances","j appl biol biotechnol":"Journal of Applied Biology and Biotechnology","int j biotechnol":"International journal of biotechnology","pak j bot":"Pakistan Journal of Botany","ann bot":"Annals of Botany","aquat bot":"Aquatic Botany","aust j bot":"Australian Journal of Botany","aust syst bot":"Australian Systematic Botany","bot lett":"Botany letters","curr protoc plant biol":"Current protocols in plant biology","plant biotechnol j":"Plant Biotechnology Journal","curr trends biotechnol pharm":"Current Trends in Biotechnology and Pharmacy","j plant sci res":"Journal of Plant Science and Research","int j glob sci res":"International Journal of Global Science Research","j clean prod":"Journal of cleaner production","nat commun":"Nature Communications","j environ sci":"Journal of Environmental Sciences","environ anal health toxicol":"Environmental analysis health and toxicology","curr opin environ sci health":"Current Opinion in Environmental Science and Health","appl ecol environ sci":"Applied Ecology and Environmental Sciences","adv environ res":"Advances in Environment Research","nat environ pollut technol":"Nature Environment and Pollution Technology","j assoc environ resour econ":"Journal of the Association of Environmental and Resource Economists","int j sci res":"International journal of scientific research","adv appl math sci":"Advances and Applications in Mathematical Sciences","aims mol sci":"AIMS Molecular Science","sci rep":"Scientific Reports","acta ger":"Acta Germanica",amphora:"Amphora","antennae j nat vis culture":"Antennae The Journal of Nature in Visual Culture","art market":"Arts and the Market","archaeol int":"Archaeology International","iafor j arts humanit":"IAFOR Journal of Arts and Humanities","iis univ j arts":"IIS University Journal of Arts","j lang discrimination":"Journal of Language and Discrimination","int crit theor":"International Critical Thought","int j comp lit translat stud":"International Journal of Comparative Literature and Translation Studies","iafor j ethics religion philos":"IAFOR Journal of Ethics Religion and Philosophy","between species":"Between the Species","comp philos":"Comparative Philosophy","j pop telev":"Journal of Popular Television","art public sphere":"Art and the Public Sphere","environ philos":"Environmental Philosophy","focus ger stud":"Focus on German Studies","ger foreign lang":"German as a Foreign Language","black camera":"Black Camera","life sci soc policy":"Life Sciences Society and Policy","anc sci life":"Ancient Science of Life","annals ayurvedic med":"Annals of Ayurvedic Medicine","arab j math sci":"Arab Journal of Mathematical Sciences","arab j math":"Arabian Journal of Mathematics","albanian j math":"Albanian Journal of Mathematics","indian drugs":"Indian Drugs","int j clin biochem res":"International Journal of Clinical Biochemistry and Research",biochem:"Biochemistry","contemp account res":"Contemporary accounting research","j account res":"Journal of Accounting Research","j account econ":"Journal of Accounting and Economics","biosci biotechnol res asia":"Biosciences Biotechnology Research Asia","j bank financ":"Journal of Banking and Finance","int j bank account finance":"International Journal of Banking Accounting and Finance","indian j bank financ":"Indian Journal of Finance and Banking","int j cent bank":"International journal of central banking","cell tissue bank":"Cell and Tissue Banking","appl finance account":"Applied finance and accounting","j finance":"Journal of Finance","int j orthop sci":"International Journal of Orthopaedics Sciences","food energy secur":"Food and Energy Security","j food drug anal":"Journal of food and drug analysis","j nutr sci":"Journal of nutritional science","j wildl manage":"Journal of Wildlife Management","j bus ethics":"Journal of Business Ethics","j bus anal":"Journal of business analytics","int j nurs stud":"International journal of nursing studies","j nurs educ pract":"Journal of nursing education and practice","adv emerg nurs j":"Advanced emergency nursing journal","ans adv nurs sci":"Advances in Nursing Science","j carcinog":"Journal of Carcinogenesis","j pers soc psychol":"Journal of personality and social psychology","j mol liq":"Journal of Molecular Liquids","malar control elimin":"Malaria control and elimination","malar j":"Malaria Journal","conserv soc":"Conservation and Society"};const levenshtein=(e,a)=>{if(e===a)return 0;var n;e.length>a.length&&(n=e,e=a,a=n);for(var o=e.length,t=a.length;0<o&&e.charCodeAt(o-1)===a.charCodeAt(t-1);)o--,t--;for(var r=0;r<o&&e.charCodeAt(r)===a.charCodeAt(r);)r++;if(t-=r,0===(o-=r)||t<3)return t;for(var i,l,s,c,d,p,u,h,m,g,f,y=0,v=[],j=0;j<o;j++)v.push(j+1),v.push(e.charCodeAt(r+j));for(var b=v.length-1;y<t-3;)for(h=a.charCodeAt(r+(i=y)),m=a.charCodeAt(r+(l=y+1)),g=a.charCodeAt(r+(s=y+2)),f=a.charCodeAt(r+(c=y+3)),d=y+=4,j=0;j<b;j+=2)i=_min(p=v[j],i,l,h,u=v[j+1]),l=_min(i,l,s,m,u),s=_min(l,s,c,g,u),d=_min(s,c,d,f,u),v[j]=d,c=s,s=l,l=i,i=p;for(;y<t;)for(h=a.charCodeAt(r+(i=y)),d=++y,j=0;j<b;j+=2)p=v[j],v[j]=d=_min(p,i,d,h,v[j+1]),i=p;return d};$.easing.jswing=$.easing.swing,$.extend($.easing,{def:"easeOutQuad",swing:(e,a,n,o,t)=>$.easing[$.easing.def](e,a,n,o,t),easeInQuad:(e,a,n,o,t)=>o*(a/=t)*a+n,easeOutQuad:(e,a,n,o,t)=>-o*(a/=t)*(a-2)+n,easeInOutQuad:(e,a,n,o,t)=>(a/=t/2)<1?o/2*a*a+n:-o/2*(--a*(a-2)-1)+n,easeInCubic:(e,a,n,o,t)=>o*(a/=t)*a*a+n,easeOutCubic:(e,a,n,o,t)=>o*((a=a/t-1)*a*a+1)+n,easeInOutCubic:(e,a,n,o,t)=>(a/=t/2)<1?o/2*a*a*a+n:o/2*((a-=2)*a*a+2)+n,easeInQuart:(e,a,n,o,t)=>o*(a/=t)*a*a*a+n,easeOutQuart:(e,a,n,o,t)=>-o*((a=a/t-1)*a*a*a-1)+n,easeInOutQuart:(e,a,n,o,t)=>(a/=t/2)<1?o/2*a*a*a*a+n:-o/2*((a-=2)*a*a*a-2)+n,easeInQuint:(e,a,n,o,t)=>o*(a/=t)*a*a*a*a+n,easeOutQuint:(e,a,n,o,t)=>o*((a=a/t-1)*a*a*a*a+1)+n,easeInOutQuint:(e,a,n,o,t)=>(a/=t/2)<1?o/2*a*a*a*a*a+n:o/2*((a-=2)*a*a*a*a+2)+n,easeInSine:(e,a,n,o,t)=>-o*Math.cos(a/t*(Math.PI/2))+o+n,easeOutSine:(e,a,n,o,t)=>o*Math.sin(a/t*(Math.PI/2))+n,easeInOutSine:(e,a,n,o,t)=>-o/2*(Math.cos(Math.PI*a/t)-1)+n,easeInExpo:(e,a,n,o,t)=>0==a?n:o*Math.pow(2,10*(a/t-1))+n,easeOutExpo:(e,a,n,o,t)=>a==t?n+o:o*(1-Math.pow(2,-10*a/t))+n,easeInOutExpo:(e,a,n,o,t)=>0==a?n:a==t?n+o:(a/=t/2)<1?o/2*Math.pow(2,10*(a-1))+n:o/2*(2-Math.pow(2,-10*--a))+n,easeInCirc:(e,a,n,o,t)=>-o*(Math.sqrt(1-(a/=t)*a)-1)+n,easeOutCirc:(e,a,n,o,t)=>o*Math.sqrt(1-(a=a/t-1)*a)+n,easeInOutCirc:(e,a,n,o,t)=>(a/=t/2)<1?-o/2*(Math.sqrt(1-a*a)-1)+n:o/2*(Math.sqrt(1-(a-=2)*a)+1)+n,easeInElastic:(e,a,n,o,t)=>{var r=1.70158,i=0,l=o;return 0==a?n:1==(a/=t)?n+o:(i=i||.3*t,r=l<Math.abs(o)?(l=o,i/4):i/(2*Math.PI)*Math.asin(o/l),-(l*Math.pow(2,10*--a)*Math.sin((a*t-r)*(2*Math.PI)/i))+n)},easeOutElastic:(e,a,n,o,t)=>{var r=1.70158,i=0,l=o;return 0==a?n:1==(a/=t)?n+o:(i=i||.3*t,r=l<Math.abs(o)?(l=o,i/4):i/(2*Math.PI)*Math.asin(o/l),l*Math.pow(2,-10*a)*Math.sin((a*t-r)*(2*Math.PI)/i)+o+n)},easeInOutElastic:(e,a,n,o,t)=>{var r=1.70158,i=0,l=o;return 0==a?n:2==(a/=t/2)?n+o:(i=i||t*(.3*1.5),r=l<Math.abs(o)?(l=o,i/4):i/(2*Math.PI)*Math.asin(o/l),a<1?l*Math.pow(2,10*--a)*Math.sin((a*t-r)*(2*Math.PI)/i)*-.5+n:l*Math.pow(2,-10*--a)*Math.sin((a*t-r)*(2*Math.PI)/i)*.5+o+n)},easeInBack:(e,a,n,o,t,r)=>o*(a/=t)*a*(((r=null==r?1.70158:r)+1)*a-r)+n,easeOutBack:(e,a,n,o,t,r)=>o*((a=a/t-1)*a*(((r=null==r?1.70158:r)+1)*a+r)+1)+n,easeInOutBack:(e,a,n,o,t,r)=>(null==r&&(r=1.70158),(a/=t/2)<1?o/2*(a*a*((1+(r*=1.525))*a-r))+n:o/2*((a-=2)*a*((1+(r*=1.525))*a+r)+2)+n),easeInBounce:(e,a,n,o,t)=>o-$.easing.easeOutBounce(e,t-a,0,o,t)+n,easeOutBounce:(e,a,n,o,t)=>(a/=t)<1/2.75?o*(7.5625*a*a)+n:a<2/2.75?o*(7.5625*(a-=1.5/2.75)*a+.75)+n:a<2.5/2.75?o*(7.5625*(a-=2.25/2.75)*a+.9375)+n:o*(7.5625*(a-=2.625/2.75)*a+.984375)+n,easeInOutBounce:(e,a,n,o,t)=>a<t/2?.5*$.easing.easeInBounce(e,2*a,0,o,t)+n:.5*$.easing.easeOutBounce(e,2*a-t,0,o,t)+.5*o+n});const info=(...e)=>{console.log("%c[PM] "+e.join(" "),"color: #328DD2")},getDisplayId=e=>e=(e=e.split("_")[0].split(".")[0]).startsWith("OR-")?e:e.split("-").slice(0,2).join("-"),defaultPDFTitleFn=(e,a)=>(e=e.replaceAll("\n"," ").replace(/\s\s+/g," "))+` - ${a=a.split("_")[0].split(".")[0]}.pdf`,delay=(a,n)=>{let o=0;return(...e)=>{clearTimeout(o),o=setTimeout(a.bind(this,...e),n||0)}},cleanPapers=e=>{let a={...e};return delete a.__dataVersion,a},capitalize=e=>e.charAt(0).toUpperCase()+e.slice(1),firstNonStopLowercase=e=>{let a=e.toLowerCase(),n=a.split(" ").map(e=>e.replace(/[^0-9a-z]/gi,""));e=n.filter(e=>global.englishStopWords.has(e));return(0<e.length?e:n)[0]},fallbackCopyTextToClipboard=e=>{var a=document.createElement("textarea");a.value=e,a.style.top="0",a.style.left="0",a.style.position="fixed",document.body.appendChild(a),a.focus(),a.select();try{var n=document.execCommand("copy")?"successful":"unsuccessful";console.log("Fallback: Copying text command was "+n)}catch(e){console.error("Fallback: Oops, unable to copy",e)}document.body.removeChild(a)},copyTextToClipboard=e=>{navigator.clipboard?navigator.clipboard.writeText(e).then(()=>{console.log("Async: Copying to clipboard was successful!")},e=>{console.error("Async: Could not copy text: ",e)}):fallbackCopyTextToClipboard(e)},parseUrl=e=>{var a=document.createElement("a");return a.href=e,a},downloadTextFile=(e,a,n)=>{var o=document.createElement("a");"text/plain"===n?(e=e.replace(/\\n/g,"%0D%0A").replace(/"/g,""),o.download=a,o.href="data:text/plain,"+e):(n=new Blob([e],{type:n}),o.href=URL.createObjectURL(n),o.download=a),o.click()},eventId=e=>e.target.closest(".memory-container").id.split("--")[1],downloadFile=(e,a)=>{var n;window.ActiveXObject?window.ActiveXObject&&document.execCommand&&((n=window.open(e,"_blank")).document.close(),n.document.execCommand("SaveAs",!0,a||e),n.close()):((n=document.createElement("a")).href=e,n.target="_blank",e=e.substring(e.lastIndexOf("/")+1),n.download=a||e,navigator.userAgent.toLowerCase().match(/(ipad|iphone|safari)/)&&navigator.userAgent.search("Chrome")<0?document.location=n.href:(e=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1}),n.dispatchEvent(e),(window.URL||window.webkitURL).revokeObjectURL(n.href)))},getExamplePaper=async e=>{var a=await getStorage("papers"),n=Object.keys(a).filter(e=>-1===e.indexOf("__")).reverse();let o=a[n[e=void 0===e?getRandomInt(n.length):e]];return void 0===o&&(o={title:"Dummy title",author:"Cool Author and Great Author and Complicated Name Ã€uthor",year:2021,id:"NoneXiv-214324",bibtex:"@Nonesense{}",tags:["t1","t2"],note:"Thispaperdoesnotexist.com"}),o},getTitleFunction=async(code=null)=>{let titleFunction;code=code||await getStorage("titleFunctionCode"),void 0===code&&(code=global.defaultTitleFunctionCode);let errorMessage;try{titleFunction=eval(code)}catch(error){errorMessage="Error parsing the title function: "+error,console.log("Error parsing the title function. Function string then error:"),console.log(code),console.log(error),titleFunction=eval(global.defaultTitleFunctionCode),code=global.defaultTitleFunctionCode}try{const examplePaper=await getExamplePaper(0),result=titleFunction(examplePaper);if("string"!=typeof result)throw new Error(`Result ${result} is not a string`)}catch(error){errorMessage="Error executing the title function: "+error,console.log("Error testing the user's title function. Function string then error:"),console.log(code),console.log(error),titleFunction=eval(global.defaultTitleFunctionCode),code=global.defaultTitleFunctionCode}return{titleFunction:titleFunction,code:code.trim(),errorMessage:errorMessage}},migrateData=async(n,a,e=!0)=>{if(void 0===n)return chrome.storage.local.set({papers:{__dataVersion:a}}),{papers:{__dataVersion:a},success:!0};var o,t,r,i=n.__dataVersion||-1,l=[];let s={...n};try{if(210===i)return{papers:n,success:!0};e&&backupData({...n}),delete n.__dataVersion;for(const c in n)i<5&&(info("Applying migration 5"),n[c].hasOwnProperty("bibtex")||(n[c].bibtex="",console.log("Migrating bibtex for "+c)),n[c].pdfLink.endsWith(".pdf")||(n[c].pdfLink=n[c].pdfLink+".pdf"),n[c].codeLink||(n[c].codeLink=""),n[c].source||(n[c].id.includes("NeurIPS")?n[c].source="neurips":n[c].source="arxiv")),i<208&&(info("Applying migration 0.2.8"),"arxiv"!==n[c].source&&n[c].md.includes("https://arxiv.com/abs/")&&(n[c].md=`[${n[c].title}](${n[c].pdfLink})`),"arxiv"!==n[c].source&&n[c].pdfLink.includes("arxiv.org/pdf/")&&(n[c].source="arxiv"),c.match(/^\d/)&&"arxiv"===n[c].source&&(o="Arxiv-"+c,t={...n[c],id:o},n[o]=t,l.push(c))),i<209&&(info("Applying migration 0.2.9"),n[c].hasOwnProperty("favorite")||(n[c].favorite=!1,n[c].favoriteDate="")),i<210&&(info("Applying migration 0.2.10"),"arxiv"!==n[c].source||(r=n[c].pdfLink.match(/v\d+\.pdf/gi))&&0<r.length&&(n[c].pdfLink=n[c].pdfLink.replace(r[0],".pdf")),n[c].hasOwnProperty("bibtext")&&(n[c].bibtex=n[c].bibtext+"",delete n[c].bibtext));return l.forEach((e,a)=>{delete n[e],console.log("Deleting "+e)}),s={...n},s.__dataVersion=a,e&&chrome.storage.local.set({papers:s},()=>{console.log("Migrated papers:"),console.log(s),console.log("Data version is now "+a)}),{papers:s,success:!0}}catch(e){return console.log(`Error migrating data from version ${i} to ${a}:`),console.log(e),{papers:s,success:!1,error:e}}},logStorage=a=>{chrome.storage.local.get(a,e=>{console.log(e[a])})},getStorage=async n=>new Promise((a,e)=>{chrome.storage.local.get(n,e=>{a("string"==typeof n?e[n]:e)})}),setStorage=async(n,o,t=()=>{})=>new Promise((e,a)=>{chrome.storage.local.set({[n]:o},()=>{t(),e(!0)})}),deletePaperInStorage=async e=>{const a=await getStorage("papers");let n=!1;a.hasOwnProperty(e)&&(n=delete a[e]),n?(setStorage("papers",a),console.log("Successfully deleted paper",e)):console.log("Error: no deletion")},getTheme=async()=>{return await getStorage("checkDarkMode")?"dark":"light"},backupData=async n=>{chrome.storage.local.get("papersBackup",({papersBackup:e})=>{void 0===e&&(e={});for(const a of Object.keys(e).map(e=>parseInt(e)).sort((e,a)=>e<a?1:-1).slice(4))delete e[a];e[n.__dataVersion]=n,chrome.storage.local.set({papersBackup:e},()=>{console.log("Backed up data with version: "+n.__dataVersion)})})},stateTitleFunction=paperOrId=>{let paper=paperOrId;if("string"==typeof paperOrId&&(paper=global.state.papers[paperOrId],void 0===paper))return console.log("Error in stateTitleFunction: unknown id",paperOrId),"Unknown ID";let name;try{name=global.state.titleFunction(paper)}catch(error){console.log("Error in stateTitleFunction:",error),name=eval(global.defaultTitleFunctionCode)(paper)}return name.replaceAll("\n"," ").replace(/\s\s+/g," ")},getManifestDataVersion=()=>{const e=chrome.runtime.getManifest();return e.version.split(".").map((e,a)=>parseInt(e)*10**(4-2*a)).reduce((e,a)=>e+a)},versionToSemantic=e=>(major=parseInt(e/1e4,10),e-=1e4*major,minor=parseInt(e/100,10),e-=100*minor,`${major}.${minor}.`+e),initState=async(e,a)=>{var n=Date.now();void 0===e&&(e=await getStorage("papers"),console.log("Time to retrieve stored papers (s): "+(Date.now()-n)/1e3)),global.state.dataVersion=getManifestDataVersion(),global.state.titleFunction=(await getTitleFunction()).titleFunction;var o=Date.now(),t=await migrateData(e,global.state.dataVersion);console.log("Migration duration (s): "+(Date.now()-o)/1e3),e=t.papers,global.state.papers=e,a||(global.state.papersList=Object.values(cleanPapers(e)),global.state.sortKey="lastOpenDate",global.state.papersReady=!0,sortMemory(),makeTags()),console.log("State initialization duration (s): "+(Date.now()-n)/1e3)},hashCode=e=>e.split("").reduce((e,a)=>(e=(e<<5)-e+a.charCodeAt(0))&e,0),parseCVFUrl=e=>{const a=e.replace("https://openaccess.thecvf.com/content","").slice(1).split("/")[0].split("_");let n,o;o=1===a.length?(n=a[0].slice(0,-4),a[0].slice(-4)):(n=a[0].toUpperCase(),a[1]);e=e.split("/").reverse()[0].split(".")[0],e=(hashCode(e)+"").replace("-","").slice(0,8),e=`${n}-${o}_`+e;return{conf:n,year:o,id:e}},isPaper=e=>{parseUrl(e);let a={};for(const o in global.knownPaperPages){var n=global.knownPaperPages[o];a[o]=!1;for(const t of n)e.includes(t)&&(a[o]=!0)}return a},cleanBiorxivURL=e=>e=(e=e.replace(".full.pdf","")).match(/\d$/)?e:e.split(".").slice(0,-1).join("."),parseIdFromUrl=a=>{var e=isPaper(a);if(e.arxiv)return"Arxiv-"+a.match(/\d{4}\.\d{4,5}/g)[0];if(e.neurips)return`NeurIPS-${a.split("/paper/")[1].split("/")[0]}_`+a.split("/").reverse()[0].split("-")[0].slice(0,8);if(e.cvf)return parseCVFUrl(a).id;if(e.openreview){const o=a.match(/id=\w+/)[0].replace("id=","");var n=Object.values(cleanPapers(global.state.papers)).filter(e=>e.id.includes(o))[0];return n&&n.id}if(e.biorxiv){let e=(a=cleanBiorxivURL(a)).split("/").reverse()[0];return e.match(/v\d+$/)&&(e=e.split("v")[0]),"Biorxiv-"+e}if(e.pmlr){const t=a.split("/").reverse()[0].split(".")[0];return`PMLR-${"20"+t.match(/\d+/)[0]}-`+t}throw new Error("unknown paper url")},paperToAbs=e=>{const a=e.pdfLink;let n="";switch(e.source){case"arxiv":n="https://arxiv.org/abs/"+e.id.split("-")[1];break;case"neurips":n=a.replace("/file/","/hash/").replace("-Paper.pdf","-Abstract.html");break;case"cvf":n=a.replace("/papers/","/html/").replace(".pdf",".html");break;case"openreview":n=a.replace("/pdf?","/forum?");break;case"biorxiv":n=a.replace(".full.pdf","");break;case"pmlr":n=a.split("/").slice(0,-1).join("/")+".html";break;default:n="https://xkcd.com/1969/"}return n.replace("http://","https://")},paperToPDF=e=>{let a=e.pdfLink;switch(e.source){case"arxiv":a=`https://arxiv.org/pdf/${e.id.split("-")[1]}.pdf`;break;case"neurips":a=a.replace("/hash/","/file/").replace("-Abstract.html","-Paper.pdf");break;case"cvf":a=a.replace("/html/","/papers/").replace(".html",".pdf");break;case"openreview":a=a.replace("/forum?","/pdf?");break;case"biorxiv":a=cleanBiorxivURL(a)+".full.pdf";break;case"pmlr":break;default:a="https://xkcd.com/1969/"}return a.replace("http://","https://")},textareaFocusEnd=e=>{setTimeout(()=>{e.selectionStart=e.selectionEnd=1e4},0)},formatBibtext=e=>{let a=e.trim().split("\n").join("").replace(/\s+=/g," =");var n=a.match(/\ \w+\ ?=\ ?{/g)||[],e=a.match(/,\w+\ ?=\ ?{/g)||[];if(n&&0<n.length)for(const t of n)a=a.replace(t,`
 `+t);if(e&&0<e.length)for(const r of e){var o=r.replace(",","");a=a.replace(r,`,
 `+o)}return"}}"===a.slice(-2)&&(a=a.slice(0,-1)+"\n}"),a.replaceAll("{ ","{").replaceAll(" }","}").replaceAll(" = ","=")},validatePaper=(e,a=!0)=>{const n={addDate:{type:"string",desc:"the paper's date of addition to the Memory",default:e=>(new Date).toJSON()},author:{type:"string",desc:"` and `-separated authors `${firstName} ${lastName}`"},bibtex:{type:"string",desc:"BibTex citation with new lines (`\n`)"},codeLink:{type:"string",desc:"the paper's code link",default:e=>""},count:{type:"number",desc:"the paper's number of visits",default:e=>1},favorite:{type:"boolean",desc:"user wants to star the paper",default:e=>!1},favoriteDate:{type:"string",desc:"date the paper was added as a favorite",default:e=>""},id:{type:"string",desc:"Unique PaperMemory ID"},key:{type:"string",desc:"BibTex citation key",default:e=>"defaultKey_"+e.id},lastOpenDate:{type:"string",desc:"When the paper was last opened",default:e=>(new Date).toJSON()},md:{type:"string",desc:"markdown-formatted string `[${title}](${pdfLink})`",default:e=>`[${e.title}](${e.pdfLink})`},note:{type:"string",desc:"the user's note for this paper",default:e=>""},pdfLink:{type:"string",desc:"the link to the paper's pdf"},source:{type:"string",desc:"the paper's source i.e. where it was added to the memory from"},tags:{type:"array[string]",desc:"the user's tags for this paper",default:e=>[]},year:{type:"string",desc:"year of publication"}};let o=[];for(const s in n)if(e.hasOwnProperty(s)){const c=n[s].type;var t,r,i=typeof e[s];c.startsWith("array")?(t=c.split("[")[1].replace("]",""),Array.isArray(e[s])?0<e[s].length&&((r=typeof e[s][0])!==t&&(message=`âž¤ ${s} should contain ${t} not ${r} (${e.id})`,o.push(message),a&&console.warn(message))):(message=`${s} should be an array (${e.id})`,o.push(message),a&&console.warn(message))):i!==c&&(message=`âž¤ ${s} should be of type ${c} not ${i} (${e.id})`,o.push(message),a&&console.warn(message))}else{if(!n[s].default)throw new Error(`Cannot continue, paper is corrupted. Missing mandatory attribute "${s}" in `+e.id);i=n[s].default(e);e[s]=i,message=`âž¤ Attribute "${s}" absent; will be set to "${i}" (${e.id})`,o.push(message),a&&console.warn(message)}const l=Object.keys(global.knownPaperPages);return l.indexOf(e.source)<0&&(message=`Unknown source ${e.source} (${e.id})`,o.push(message),console.warn(message)),{warnings:o,paper:e}},tablerSvg=(e,a,n)=>{switch(a=(a=void 0===a?"":a)&&`id="${a}"`,n=(n=(n=void 0===n?[]:n).filter(e=>e))&&`class="${n.join(" ")}"`,e){case"adjustments":return`<svg viewBox="0 0 24 24" ${a} ${n}><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="6" cy="10" r="2"/><line x1="6" y1="4" x2="6" y2="8"/><line x1="6" y1="12" x2="6" y2="20"/><circle cx="12" cy="16" r="2"/><line x1="12" y1="4" x2="12" y2="14"/><line x1="12" y1="18" x2="12" y2="20"/><circle cx="18" cy="7" r="2"/><line x1="18" y1="4" x2="18" y2="5"/><line x1="18" y1="9" x2="18" y2="20"/></svg>`;case"circle-x":return`<svg viewBox="0 0 24 24" ${a} ${n}><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="12" cy="12" r="9"/><path d="M10 10l4 4m0 -4l-4 4"/></svg>`;case"star":return`<svg viewBox="0 0 24 24" ${a} ${n}><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 17.75l-6.172 3.245l1.179 -6.873l-5 -4.867l6.9 -1l3.086 -6.253l3.086 6.253l6.9 1l-5 4.867l1.179 6.873z"/></svg>`;case"writing":return`<svg viewBox="0 0 24 24" ${a} ${n}><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M20 17v-12c0 -1.121 -.879 -2 -2 -2s-2 .879 -2 2v12l2 2l2 -2z"/><path d="M16 7h4"/><path d="M18 19h-13a2 2 0 1 1 0 -4h4a2 2 0 1 0 0 -4h-3"/></svg>`;case"file-symlink":return`<svg viewBox="0 0 24 24" ${a} ${n}><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 21v-4a3 3 0 0 1 3 -3h5"/><path d="M9 17l3 -3l-3 -3"/><path d="M14 3v4a1 1 0 0 0 1 1h4"/><path d="M5 11v-6a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2h-9.5"/></svg>`;case"link":return`<svg viewBox="0 0 24 24" ${a} ${n}><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"/><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"/></svg>`;case"clipboard-list":return`<svg viewBox="0 0 24 24" ${a} ${n}><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2"/><rect x="9" y="3" width="6" height="4" rx="2"/><line x1="9" y1="12" x2="9.01" y2="12"/><line x1="13" y1="12" x2="15" y2="12"/><line x1="9" y1="16" x2="9.01" y2="16"/><line x1="13" y1="16" x2="15" y2="16"/></svg>`;case"archive":return`<svg viewBox="0 0 24 24" ${a} ${n}><path stroke="none" d="M0 0h24v24H0z" fill="none"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10"/><line x1="10" y1="12" x2="14" y2="12"/></svg>`;case"external-link":return`<svg viewBox="0 0 24 24" ${a} ${n}><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M11 7h-5a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-5"/><line x1="10" y1="14" x2="20" y2="4"/><polyline points="15 4 20 4 20 9"/></svg>`;case"file-download":return`<svg viewBox="0 0 24 24" ${a} ${n}><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14 3v4a1 1 0 0 0 1 1h4"/><path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z"/><line x1="12" y1="11" x2="12" y2="17"/><polyline points="9 14 12 17 15 14"/></svg>`;case"cirlce-x":return`<svg viewBox="0 0 24 24" ${a} ${n}><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="12" cy="12" r="9"/><path d="M10 10l4 4m0 -4l-4 4"/></svg>`;case"settings":return`<svg viewBox="0 0 24 24" ${a} ${n}><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"/><circle cx="12" cy="12" r="3"/></svg>`;default:return""}},stringifyError=e=>{const a=chrome.runtime.id;return e.stack.split("\n").map(e=>e.split(" ").map(e=>e.split(a).reverse()[0]).join(" ")).join("<br/>")},overwriteMemory=async e=>{let a=!0,n="",o="",t;try{e.__dataVersion||(e.__dataVersion=1);var r,i=await migrateData(e,getManifestDataVersion(),!1);if(!i.success)return o="Could not migrate the data before storing it",i.error&&(o+=":<br/>"+stringifyError(i.error)),{success:!1,message:o};t=i.papers;for(const l in t)l.startsWith("__")||(paperWarnings=validatePaper(t[l]).warnings,paperWarnings&&0<paperWarnings.length&&(n+="<br/>"+paperWarnings.join("<br/>")));n&&(r=await getStorage("papers"),setStorage("uploadBackup",r)),a=!1}catch(e){console.log("overwriteMemory error",e),o='<h5 class="errorTitle">/!\\ OverwriteMemoryError:</h5><br>'+stringifyError(e),a=!0}return{success:!a,message:o,warning:n,papersToWrite:t}},arraysIdentical=(e,a)=>{var n=e.length;if(n!=a.length)return!1;for(;n--;)if(e[n]!==a[n])return!1;return!0},parseTags=e=>{let a=Array.from(e.selectedOptions,e=>e.value.trim()).filter(e=>e);return a.sort(),a},getPaperEdits=(e,a)=>{let n,o,t,r;return r=a?(n=val("popup-form-note-textarea--"+e),t=val(document.getElementById("popup-form-note--"+e).querySelector(".form-code-input")),o=parseTags(findEl("popup-item-tags--"+e)),findEl("checkFavorite--"+e).checked):(n=val(findEl(e,"form-note-textarea")),t=val(findEl(e,"form-code-input")),o=parseTags(findEl(e,"memory-item-tags")),hasClass("memory-container--"+e,"favorite")),{note:n,tags:o,codeLink:t,favorite:r}},setFormChangeListener=(e,a)=>{let n,o,t,r;a?(n="#popup-item-tags--"+e.replace(".","\\."),t="popup-form-codeLink--"+e,o="popup-form-note-textarea--"+e,r="checkFavorite--"+e,$(n).on("change",monitorPaperEdits(e,a)),addListener(t,"keyup",monitorPaperEdits(e,a)),addListener(o,"keyup",monitorPaperEdits(e,a)),addListener(r,"change",monitorPaperEdits(e,a))):(n=".memory-item-tags",t=".form-code-input",o=".form-note-textarea",addEventToClass(t,"keyup",monitorPaperEdits(e,a)),addEventToClass(o,"keyup",monitorPaperEdits(e,a)))},monitorPaperEdits=(c,d)=>e=>{void 0===c&&(c=eventId(e));var a=getPaperEdits(c,d),n=global.state.papers[c];let o=!1,t={};for(const s in a){var r=n[s];t[s]=r;var i=a[s];("tags"===s&&!arraysIdentical(r,i)||"tags"!==s&&r!==i)&&(o=!0)}let l;l=d?findEl("popup-save-edits--"+c):findEl(c,"memory-item-save-edits"),disable(l,!o)},cutAuthors=(e,a,n)=>{void 0===a&&(a=140),void 0===n&&(n=", ");let o="";var e=e.split(" and "),t=e[e.length-1];for(const r of e){if(!(5+o.length+n.length+r.length+t.length<a)){o+=" ... "+t;break}o?o+=", "+r:o=r}return o},extractBibtexValue=(e,a)=>{const n=new RegExp(a+"\\s?=\\s?{(.+)},","gi");console.log(n);const o=n.exec(e);if(o){a=new RegExp(a+"\\s?=\\s?{","gi");return o[0].replace(a,"").slice(0,-2)}return""},extractAuthor=e=>extractBibtexValue(e,"author").replaceAll("{","").replaceAll("}","").replaceAll("\\","").split(" and ").map(e=>e.split(", ").reverse().join(" ")).join(" and "),decodeHtml=e=>{var a=document.createElement("textarea");return a.innerHTML=e,a.value},fetchArxivXML=async e=>{e=e.replace("Arxiv-","");return $.get("https://export.arxiv.org/api/query",{id_list:e})},fetchNeuripsHTML=async e=>{let a;return a=e.endsWith(".pdf")?e.replace("/file/","/hash/").replace("-Paper.pdf","-Abstract.html"):e,fetch(a).then(e=>e.text())},fetchCvfHTML=async e=>{let a,n;if(a=e.endsWith(".pdf")?e.replace("/papers_backup/","/papers/").replace("/papers/","/html/").replace(".pdf",".html"):e,n=await fetch(a).then(e=>e.ok?e.text():""),!n&&a.includes("thecvf.com/content_")){const{conf:o,year:t}=parseCVFUrl(e);a=a.replace(`/content_${o}_${t}/`,`/content_${o.toLowerCase()}_${t}/`),n=await fetch(a).then(e=>e.ok?e.text():"")}return n},fetchOpenReviewNoteJSON=async e=>{e=e.match(/id=\w+/)[0].replace("id=","");return fetch("https://api.openreview.net/notes?id="+e).then(e=>e.json())},fetchOpenReviewForumJSON=async e=>{e=e.match(/id=\w+/)[0].replace("id=","");return fetch("https://api.openreview.net/notes?forum="+e).then(e=>e.json())},parseArxivBibtex=async e=>{let a;a="undefined"==typeof data?await fetchArxivXML(e):data;var n=$(a),o=[],t="";n.find("author name").each((e,a)=>{o.push($(a).text()),0===e&&(t+=$(a).text().split(" ")[$(a).text().split(" ").length-1].toLowerCase())});var r="";n.find("link").each((e,a)=>{const n=$(a).attr("href");n&&0<=n.indexOf("arxiv.org/pdf/")&&(r=n)});var i=r.match(/v\d+\.pdf/gi);i&&0<i.length&&(r=r.replace(i[0],".pdf"));var l=o.join(" and "),s=$(n.find("entry title")[0]).text(),i=$(n.find("entry published")[0]).text().slice(0,4);t+=i;n="";return n+=`@article{${t+=firstNonStopLowercase(s)},
`,n+=`title={${s} },
`,n+=`author={${l} },
`,n+=`year={${i}},
`,n+=`journal={arXiv preprint arXiv: ${e}}
`,{author:l,bibtex:n+="}",conf:"arXiv",id:e,key:t,pdfLink:r,title:s,year:i}},parseNeuripsHTML=async e=>{const a=await fetchNeuripsHTML(e);var n=(new DOMParser).parseFromString(a.replaceAll("\n",""),"text/html");const o=$(n);var t=o.find(".container-fluid .col p");const r=e.split("/").slice(-1)[0].replace("-Paper.pdf","");var i=o.find("h4").first().text(),l=$(t[1]).text().split(", ").map((e,a)=>{const n=e.split(" "),o=n.map((e,a)=>capitalize(e));return o.join(" ")}).join(" and "),s=e,c=$(t[0]).text().match(/\d{4}/)[0],d="neurips"+c+r.slice(0,8),p=`NeurIPS-${c}_`+r.slice(0,8),u="NeurIPS "+c,n="Accepted @ "+u,t="";return t+=`@inproceedings{NEURIPS${c}_${r.slice(0,8)},
`,t+=`author={${l}},
`,t+=`booktitle={Advances in Neural Information Processing Systems},
`,t+=`editor={H.Larochelle and M.Ranzato and R.Hadsell and M.F.Balcan and H.Lin},
`,t+=`publisher={Curran Associates, Inc.},
`,t+=`title={${i}},
`,t+=`url={${e}},
`,t+=`year={${c}}
`,{author:l,bibtex:t+="}",conf:u,id:p,key:d,note:n,pdfLink:s,title:i,year:c}},parseCvfHTML=async e=>{const a=await fetchCvfHTML(e);var n=(new DOMParser).parseFromString(a.replaceAll("\n",""),"text/html");const o=$(n);var t=o.find("#papertitle").text().trim();let r=o.find("#authors i").first().text();r=r.split(",").map(e=>e.trim()).join(" and ");var{year:i,id:l,conf:s}=parseCVFUrl(e);let c="";e.endsWith(".pdf")?c=e:o.find("a").each((e,a)=>{if("pdf"===$(a).text()){let e=$(a).attr("href");e.startsWith("../")&&(e=e.replaceAll("../","")),e.startsWith("/")||(e="/"+e),c="http://openaccess.thecvf.com"+e}});n=`Accepted @ ${s} `+i;const d=o.find(".bibref").first().text();e=d.split("{")[1].split(",")[0];return{author:r,bibtex:d,conf:s,id:l,key:e,note:n,pdfLink:c,title:t,year:i}};makeOpenReviewBibTex=(e,a)=>{var n=e.content.title,o=e.content.authors.join(" and "),t=e.cdate?new Date(e.cdate).getFullYear():"0000";e.cdate||console.log("makeOpenReviewBibTex: no cdate found in",e);var r=e.content.authors[0].split(" ").reverse()[0];r+=t;e="";return e+=`@inproceedings{${r+=firstNonStopLowercase(n)},
`,e+=`title={${n}},
`,e+=`author={${o}},
`,e+=`year={${t}},
`,e+=`url={${a}},
`,e+="}"};const parseOpenReviewJSON=async e=>{var a=await fetchOpenReviewNoteJSON(e),n=await fetchOpenReviewForumJSON(e),o=a.notes[0];console.log("paper: ",o);var t=n.notes;console.log("forum: ",t);var r=o.content.title,i=o.content.authors.join(" and ");const l=o.content._bibtex||makeOpenReviewBibTex(o,e);a=l.split("{")[1].split(",")[0].trim(),n=l.split("year={")[1].split("}")[0];let s;s=o.pdf?"https://openreview.net/pdf?id="+o.id:(o.html||e).replace("/forum?id=","/pdf?id=");const c=o.invitation.split("/");let d=c[0].split(".")[0],p=c.slice(1).join("/").split("-")[0].replaceAll("/"," ").replace(" Conference",""),u=d,h=!1;global.overrideORConfs.hasOwnProperty(d)&&(u=global.overrideORConfs[d],h=!0),h&&(p=p.replace(u,""),d=u);e=(d+" "+p).replace(/ \d\d\d\d/g,"").replace(/\s\s+/g," "),o=`OR-${d}-${n}_`+o.id;let m,g,f;return m=t.filter(e=>e&&e.content&&-1<["Final Decision","Paper Decision","Acceptance Decision"].indexOf(e.content.title)),console.log("forum: ",t),m&&0<m.length&&(g=m[0].content.decision.split(" ").map((e,a)=>0===a?e+"ed":e).join(" "),f=g+` @ ${e} `+n),"Anonymous"===i&&(f=`Under review @ ${e} ${n} (${(new Date).toLocaleDateString()})`),{author:i,bibtex:l,conf:e,id:o,key:a,note:f,pdfLink:s,title:r,year:n}},parseBiorxivJSON=async e=>{var a=e.replace(".full.pdf",""),n="https://api.biorxiv.org//details/biorxiv/"+e.split("/").slice(-2).join("/").replace(".full.pdf","").split("v")[0];const o=await fetch(n).then(e=>e.json());if("ok"!==o.messages[0].status)throw new Error(n+" returned "+o.messages[0].status);const t=o.collection.reverse()[0],r=await fetch(a),i=await r.text(),l=(new DOMParser).parseFromString(i.replaceAll("\n",""),"text/html");var s=l.querySelector(".bibtext a").href;const c=await(await fetch(s)).text();var d=extractAuthor(c),p=parseIdFromUrl(e),n=c.split("\n")[0].split("{")[1].replace(",","").trim(),a=cleanBiorxivURL(e)+".full.pdf",s=t.title,e=t.date.split("-")[0];return{author:d,bibtex:c,conf:"BioRxiv",id:p,key:n,note:"",pdfLink:a,title:s,year:e}},parsePMLRHTML=async e=>{var a=e.split("/").reverse()[0].split(".")[0],n=parseIdFromUrl(e);const o=e.includes(".html")?e:e.split("/").slice(0,-2).join("/")+(a+".html");var t=o.replace(".html","")+`/${a}.pdf`;const r=(new DOMParser).parseFromString((await(await fetch(o)).text()).replaceAll("\n",""),"text/html");r.getElementById("button-bibtex1").getAttribute("onclick").match(/https.+\.bib/)[0];const i=r.getElementById("bibtex").innerText.replaceAll("\t"," ").replaceAll(/\s\s+/g," ");let l=i;for(const p of i.match(/,\ ?\w+ ?= ?{/g))l=l.replace(p,p.replace(", ",",\n    ").replace(" = ","="));l.endsWith("}}")&&(l=l.slice(0,-2)+"}\n}");var s=extractAuthor(l),e=r.getElementsByTagName("h1")[0].innerText,c=extractBibtexValue(l,"year");let d=extractBibtexValue(l,"booktitle").replaceAll("Proceedings of the","");note="Accepted @ "+d+`(${c})`;for(const u in global.overridePMLRConfs)if(d.includes(u)){d=global.overridePMLRConfs[u]+" "+c,note="Accepted @ "+d;break}return{author:s,bibtex:l,conf:d,id:n,key:a,note:note,pdfLink:t,title:e,year:c}},fetchOpts={headers:{mode:"no-cors"}},fetchPWCId=async(e,a)=>{let n="https://paperswithcode.com/api/v1/papers/?";e?n+=new URLSearchParams({arxiv_id:e}):a&&(n+=new URLSearchParams({title:a}));a=await $.getJSON(n);if(console.log({json:a}),1===a.count)return a.results[0].id},fetchCodes=async a=>{let e,n;a.source="neurips",n=a.title;a=await fetchPWCId(e,n);if(!a)return[];a=`https://paperswithcode.com/api/v1/papers/${a}/repositories/?`;a+=new URLSearchParams({page:1,items_per_page:10});const o=await fetch(a);a=await o.json();if(!(a.count<1)){let e=a.results;return e.sort((e,a)=>e.stars-a.stars),e.slice(0,5)}},tryCrossRef=async e=>{try{var a="https://api.crossref.org/works?rows=1&mailto=schmidtv%40mila.quebec&select=event%2Ctitle&query.title="+encodeURI(e.title);const n=await fetch(a).then(e=>e.json());return"ok"!==n.status?(console.log(`[PM][Crossref] ${a} returned `+n.message.status),""):0!==n.message.items.length&&n.message.items[0].title[0].toLowerCase().replaceAll("\n"," ").replaceAll(/\s\s+/g," ")===e.title.toLowerCase().replaceAll("\n"," ").replaceAll(/\s\s+/g," ")&&n.message.items[0].event&&n.message.items[0].event.name?(info("Found a CrossRef match"),`Accepted @ ${n.message.items[0].event.name.trim()} -- [crossref.org]`):""}catch(e){return console.log("[PM][Crossref]",e),""}},tryDBLP=async e=>{try{var a=encodeURI(e.title);const r=await fetch(`https://dblp.org/search/publ/api?q=${a}&format=json`).then(e=>e.json());if(!(r.result&&r.result.hits&&r.result.hits.hit&&r.result.hits.hit.length))return console.log("[PM][DBLP] No hits found"),"";for(const i of r.result.hits.hit.sort((e,a)=>parseInt(e.info.year,10)-parseInt(a.info.year,10)))if(decodeHtml(i.info.title.toLowerCase().replaceAll("\n"," ").replaceAll(".","").replaceAll(/\s\s+/g," "))===e.title.toLowerCase().replaceAll("\n"," ").replaceAll(".","").replaceAll(/\s\s+/g," ")&&"CoRR"!==i.info.venue){info("Found a DBLP match");var n=i.info.venue.toLowerCase().replaceAll(".","").trim();const l=global.journalAbbreviations[n]||i.info.venue;var o=i.info.year,t=i.info.url;return`Accepted @ ${l.trim()} ${o} -- [dblp.org]
`+t}return console.log("[PM][DBLP] No match found"),""}catch(e){return console.log("[PM][DBLP]",e),""}},tryPreprintMatch=async e=>{let a="";return a=await tryDBLP(e),a=a||await tryCrossRef(e),a},initPaper=async e=>{e.note||(e.note=""),e.md=`[${e.title}](${e.pdfLink})`,e.tags=[],e.codeLink="",e.favorite=!1,e.favoriteDate="",e.addDate=(new Date).toJSON(),e.lastOpenDate=e.addDate,e.count=1;for(const a in e)e.hasOwnProperty(a)&&"string"==typeof e[a]&&(e[a]=e[a].trim());return e=await autoTagPaper(e),validatePaper(e),e},autoTagPaper=async n=>{try{var e=await getStorage("autoTags");if(!e||!e.length)return n;let a=new Set;for(const o of e)if(o.tags?.length){let e=!1;o.title&&(e|=new RegExp(o.title,"i").test(n.title)),o.author&&(e|=new RegExp(o.author,"i").test(n.author)),e&&o.tags.forEach(e=>a.add(e))}return n.tags=Array.from(a).sort(),n.tags.length&&console.log("Automatically adding tags:",n.tags),n}catch(e){return console.log("Error auto-tagging:",e),console.log("Paper:",n),n}},makePaper=async(e,a,n)=>{let o;if(e.arxiv)o=await parseArxivBibtex(n),o.source="arxiv";else if(e.neurips)o=await parseNeuripsHTML(a),o.source="neurips";else if(e.cvf)o=await parseCvfHTML(a),o.source="cvf";else if(e.openreview)o=await parseOpenReviewJSON(a),o.source="openreview";else if(e.biorxiv)o=await parseBiorxivJSON(a),o.source="biorxiv";else{if(!e.pmlr)throw new Error("Unknown paper source: "+JSON.stringify({is:e,url:a,id:n}));o=await parsePMLRHTML(a),o.source="pmlr"}return initPaper(o)},findFuzzyPaperMatch=e=>{for(const n in global.state.papers)if("__dataVersion"!==n){var a=global.state.papers[n];if(Math.abs(a.title.length-e.title.length)<global.fuzzyTitleMatchMinDist)if(levenshtein(a.title,e.title)<global.fuzzyTitleMatchMinDist)return a.id}return null},addOrUpdatePaper=async(e,a,n)=>{let o,t;var r=parseIdFromUrl(e);return console.log("id: ",r),t=r&&global.state.papers.hasOwnProperty(r)?(global.state.papers=updatePaper(global.state.papers,r),o=global.state.papers[r],!1):(o=await makePaper(a,e,r),global.state.papers[o.id]=o,!0),chrome.storage.local.set({papers:global.state.papers},async()=>{var e;t?(console.log("Added '"+o.title+"' to your Memory"),console.log("paper: ",o),n&&n.checkFeedback&&feedback("Added to your Memory!",o),o.note||(e=await tryPreprintMatch(o))&&(console.log("[PM] Updating preprint note to",e),o.note=e,global.state.papers[o.id]=o,chrome.storage.local.set({papers:global.state.papers}))):console.log("Updated '"+o.title+"' in your Memory")}),{paper:o,id:r}};